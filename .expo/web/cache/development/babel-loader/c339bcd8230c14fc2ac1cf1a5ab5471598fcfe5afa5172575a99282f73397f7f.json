{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Text, TextInput, Button, Card, useTheme } from 'react-native-paper';\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    confirmPassword = _useState6[0],\n    setConfirmPassword = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loading = _useState8[0],\n    setLoading = _useState8[1];\n  var _useAuth = useAuth(),\n    register = _useAuth.register;\n  var theme = useTheme();\n  var onRegister = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!username.trim() || !password.trim()) {\n        return;\n      }\n      if (password.length < 6) {\n        return;\n      }\n      if (password !== confirmPassword) {\n        return;\n      }\n      try {\n        setLoading(true);\n        yield register({\n          username: username,\n          password: password\n        });\n        navigation == null ? void 0 : navigation.goBack();\n      } catch (e) {} finally {\n        setLoading(false);\n      }\n    });\n    return function onRegister() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(KeyboardAvoidingView, {\n      behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n      style: {\n        flex: 1\n      },\n      children: _jsxs(View, {\n        style: {\n          padding: 20,\n          flex: 1,\n          justifyContent: 'center'\n        },\n        children: [_jsx(Card, {\n          style: styles.headerCard,\n          mode: \"elevated\",\n          children: _jsxs(Card.Content, {\n            style: {\n              alignItems: 'center'\n            },\n            children: [_jsx(Text, {\n              variant: \"displaySmall\",\n              children: \"\\uD83D\\uDD27\"\n            }), _jsx(Text, {\n              variant: \"titleLarge\",\n              style: {\n                marginTop: 8,\n                fontWeight: '800'\n              },\n              children: \"Tornillo Feliz\"\n            }), _jsx(Text, {\n              variant: \"bodyMedium\",\n              style: {\n                color: theme.colors.onSurfaceVariant\n              },\n              children: \"Crea tu cuenta\"\n            })]\n          })\n        }), _jsx(Card, {\n          style: styles.formCard,\n          mode: \"elevated\",\n          children: _jsxs(Card.Content, {\n            children: [_jsx(TextInput, {\n              label: \"Usuario\",\n              placeholder: \"Ingresa tu usuario\",\n              value: username,\n              onChangeText: setUsername,\n              autoCapitalize: \"none\",\n              mode: \"outlined\",\n              left: _jsx(TextInput.Icon, {\n                icon: \"account\"\n              }),\n              style: styles.input,\n              editable: !loading\n            }), _jsx(TextInput, {\n              label: \"Contrase\\xF1a\",\n              placeholder: \"M\\xEDnimo 6 caracteres\",\n              value: password,\n              onChangeText: setPassword,\n              secureTextEntry: true,\n              mode: \"outlined\",\n              left: _jsx(TextInput.Icon, {\n                icon: \"lock\"\n              }),\n              style: styles.input,\n              editable: !loading\n            }), _jsx(TextInput, {\n              label: \"Confirmar Contrase\\xF1a\",\n              placeholder: \"Repite tu contrase\\xF1a\",\n              value: confirmPassword,\n              onChangeText: setConfirmPassword,\n              secureTextEntry: true,\n              mode: \"outlined\",\n              left: _jsx(TextInput.Icon, {\n                icon: \"lock-check\"\n              }),\n              style: styles.input,\n              editable: !loading\n            }), _jsx(Button, {\n              mode: \"contained\",\n              onPress: onRegister,\n              loading: loading,\n              disabled: loading,\n              style: {\n                marginTop: 12,\n                borderRadius: 12\n              },\n              buttonColor: theme.colors.primary,\n              textColor: \"#fff\",\n              children: loading ? 'Creando cuenta...' : 'Registrar'\n            }), _jsxs(View, {\n              style: styles.footer,\n              children: [_jsx(Text, {\n                variant: \"bodyMedium\",\n                style: {\n                  color: theme.colors.onSurfaceVariant\n                },\n                children: \"\\xBFYa tienes una cuenta?\"\n              }), _jsx(Button, {\n                onPress: function onPress() {\n                  return navigation == null ? void 0 : navigation.goBack();\n                },\n                compact: true,\n                textColor: theme.colors.secondary,\n                children: \"Inicia sesi\\xF3n\"\n              })]\n            })]\n          })\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f3f7fb'\n  },\n  headerCard: {\n    marginBottom: 18,\n    borderRadius: 16,\n    alignSelf: 'center',\n    paddingHorizontal: 12\n  },\n  formCard: {\n    borderRadius: 16,\n    padding: 12,\n    marginTop: 8\n  },\n  input: {\n    marginBottom: 12\n  },\n  footer: {\n    marginTop: 12,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 8\n  }\n});","map":{"version":3,"names":["React","useState","SafeAreaView","StyleSheet","KeyboardAvoidingView","Platform","View","Text","TextInput","Button","Card","useTheme","useAuth","jsx","_jsx","jsxs","_jsxs","RegisterScreen","_ref","navigation","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","_useState7","_useState8","loading","setLoading","_useAuth","register","theme","onRegister","_ref2","_asyncToGenerator","trim","length","goBack","e","apply","arguments","style","styles","container","children","behavior","OS","flex","padding","justifyContent","headerCard","mode","Content","alignItems","variant","marginTop","fontWeight","color","colors","onSurfaceVariant","formCard","label","placeholder","value","onChangeText","autoCapitalize","left","Icon","icon","input","editable","secureTextEntry","onPress","disabled","borderRadius","buttonColor","primary","textColor","footer","compact","secondary","create","backgroundColor","marginBottom","alignSelf","paddingHorizontal","flexDirection","gap"],"sources":["C:/Users/Digitacion Nery/Desktop/TornilloFeliz/APP_MOBILE_DESARROLLO/src/screens/RegisterScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { SafeAreaView, StyleSheet, KeyboardAvoidingView, Platform, View } from 'react-native';\nimport { Text, TextInput, Button, Card, useTheme } from 'react-native-paper';\nimport { useAuth } from '../contexts/AuthContext';\n\nexport default function RegisterScreen({ navigation }: any) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n  const theme = useTheme();\n\n  const onRegister = async () => {\n    if (!username.trim() || !password.trim()) {\n      return;\n    }\n    if (password.length < 6) {\n      return;\n    }\n    if (password !== confirmPassword) {\n      return;\n    }\n    try {\n      setLoading(true);\n      await register({ username, password });\n      navigation?.goBack();\n    } catch (e: any) {\n      // manejar error\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <KeyboardAvoidingView behavior={Platform.OS === 'ios' ? 'padding' : 'height'} style={{ flex: 1 }}>\n        <View style={{ padding: 20, flex: 1, justifyContent: 'center' }}>\n          <Card style={styles.headerCard} mode=\"elevated\">\n            <Card.Content style={{ alignItems: 'center' }}>\n              <Text variant=\"displaySmall\">ðŸ”§</Text>\n              <Text variant=\"titleLarge\" style={{ marginTop: 8, fontWeight: '800' }}>\n                Tornillo Feliz\n              </Text>\n              <Text variant=\"bodyMedium\" style={{ color: theme.colors.onSurfaceVariant }}>\n                Crea tu cuenta\n              </Text>\n            </Card.Content>\n          </Card>\n\n          <Card style={styles.formCard} mode=\"elevated\">\n            <Card.Content>\n              <TextInput\n                label=\"Usuario\"\n                placeholder=\"Ingresa tu usuario\"\n                value={username}\n                onChangeText={setUsername}\n                autoCapitalize=\"none\"\n                mode=\"outlined\"\n                left={<TextInput.Icon icon=\"account\" />}\n                style={styles.input}\n                editable={!loading}\n              />\n\n              <TextInput\n                label=\"ContraseÃ±a\"\n                placeholder=\"MÃ­nimo 6 caracteres\"\n                value={password}\n                onChangeText={setPassword}\n                secureTextEntry\n                mode=\"outlined\"\n                left={<TextInput.Icon icon=\"lock\" />}\n                style={styles.input}\n                editable={!loading}\n              />\n\n              <TextInput\n                label=\"Confirmar ContraseÃ±a\"\n                placeholder=\"Repite tu contraseÃ±a\"\n                value={confirmPassword}\n                onChangeText={setConfirmPassword}\n                secureTextEntry\n                mode=\"outlined\"\n                left={<TextInput.Icon icon=\"lock-check\" />}\n                style={styles.input}\n                editable={!loading}\n              />\n\n              <Button\n                mode=\"contained\"\n                onPress={onRegister}\n                loading={loading}\n                disabled={loading}\n                style={{ marginTop: 12, borderRadius: 12 }}\n                buttonColor={theme.colors.primary}\n                textColor=\"#fff\"\n              >\n                {loading ? 'Creando cuenta...' : 'Registrar'}\n              </Button>\n\n              <View style={styles.footer}>\n                <Text variant=\"bodyMedium\" style={{ color: theme.colors.onSurfaceVariant }}>\n                  Â¿Ya tienes una cuenta?\n                </Text>\n                <Button onPress={() => navigation?.goBack()} compact textColor={theme.colors.secondary}>\n                  Inicia sesiÃ³n\n                </Button>\n              </View>\n            </Card.Content>\n          </Card>\n        </View>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, backgroundColor: '#f3f7fb' },\n  headerCard: { marginBottom: 18, borderRadius: 16, alignSelf: 'center', paddingHorizontal: 12 },\n  formCard: { borderRadius: 16, padding: 12, marginTop: 8 },\n  input: { marginBottom: 12 },\n  footer: { marginTop: 12, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', gap: 8 },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}